import { z } from 'zod';
{{#if typescript}}
import CreateAuthPermissionSchema from "../../auth-permission/schemas/create-auth-permission"
{{else}}
import CreateAuthPermissionSchema from "../../auth-permission/schemas/create-auth-permission.js"
{{/if}}

const UpdateAuthRoleSchema = z.object({
  name: z.string().min(1, "Role name is required"),
  description: z.string().optional(),
  permissions: z
    .array(
      CreateAuthPermissionSchema.extend({
        apiAction: z.enum(["connect", "delete"]).optional(),
      }).omit({ role: true })
    )
    .optional()
    .default([]),
});

export default UpdateAuthRoleSchema

{{#if typescript}}
export type UpdateAuthRoleSchemaType = z.infer<typeof UpdateAuthRoleSchema>;
{{/if}}
